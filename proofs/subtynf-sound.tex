\jtheorem{Proof of \autoref{thm:raw-subtynf-sound}}{
  \jgivengoal{
    \caseFact{1} $\Psi ; \Theta ; \Delta \vdash \tau_1 \subtynf \tau_2 : K \gens \Phi$
    
    \caseFact{2} $\Theta ; \Delta \vDash \Phi$
  }{
   $\Psi ; \Theta ; \Delta \vdash \tau_1 \subty \tau_2 : K$  
  }
  
  \jcase{1}{AS-Unit}{Immediate.}
  \jcase{2}{AS-Var}{Immediate.}
  
  \jcase{3}{AS-Arr}{
   \jgivengoal{
     \caseFact{1} $\Psi ; \Theta ; \Delta \vdash \tau_1 \loli \tau_2 \subtynf \tau_1' \loli \tau_2' : \star \gens \Phi_1 \wedge \Phi_2$
     
     \caseFact{2} $\Theta ; \Delta \vDash \Phi_1 \wedge \Phi_2$   
     
     \caseFact{3} $\Psi ; \Theta ; \Delta \vdash \tau_1' \subtynf \tau_1 : \star \gens \Phi_1$
     
     \caseFact{4} $\Psi ; \Theta ; \Delta \vdash \tau_2 \subtynf \tau_2' : \star \gens \Phi_2$
   }{
     $\Psi ; \Theta ; \Delta \vdash \tau_1 \loli \tau_2 \subty \tau_1' \loli \tau_2' : \star$   
   }
   
   \caseText{By IH on (3)}
   
   \caseFact{5} $\Psi ; \Theta ; \Delta \vdash \tau_1' \subty \tau_1 : \star$

   \caseText{By IH on (4)}   
   
   \caseFact{6} $\Psi ; \Theta ; \Delta \vdash \tau_2 \subty \tau_2' : \star$
   
   \caseText{Goal follows by S-Arr on (5) and (6)}
  }
  
  \jcase{4}{AS-Tensor}{
   \jgivengoal{
     \caseFact{1} $\Psi ; \Theta ; \Delta \vdash \tau_1 \otimes \tau_2 \subtynf \tau_1' \otimes \tau_2' : \star \gens \Phi_1 \wedge \Phi_2$
     
     \caseFact{2} $\Theta ; \Delta \vDash \Phi_1 \wedge \Phi_2$   
     
     \caseFact{3} $\Psi ; \Theta ; \Delta \vdash \tau_1 \subtynf \tau_1' : \star \gens \Phi_1$
     
     \caseFact{4} $\Psi ; \Theta ; \Delta \vdash \tau_2 \subtynf \tau_2' : \star \gens \Phi_2$
   }{
     $\Psi ; \Theta ; \Delta \vdash \tau_1 \otimes \tau_2 \subty \tau_1' \otimes \tau_2' : \star$   
   }
   
   \caseText{By IH on (3)}
   
   \caseFact{5} $\Psi ; \Theta ; \Delta \vdash \tau_1' \subty \tau_1 : \star$

   \caseText{By IH on (4)}   
   
   \caseFact{6} $\Psi ; \Theta ; \Delta \vdash \tau_2 \subty \tau_2' : \star$
   
   \caseText{Goal follows by S-Tensor on (5) and (6)}
  }
  
  \jcase{5}{AS-With}{
   \jgivengoal{
     \caseFact{1} $\Psi ; \Theta ; \Delta \vdash \tau_1 \amp \tau_2 \subtynf \tau_1' \amp \tau_2' : \star \gens \Phi_1 \wedge \Phi_2$
     
     \caseFact{2} $\Theta ; \Delta \vDash \Phi_1 \wedge \Phi_2$   
     
     \caseFact{3} $\Psi ; \Theta ; \Delta \vdash \tau_1 \subtynf \tau_1' : \star \gens \Phi_1$
     
     \caseFact{4} $\Psi ; \Theta ; \Delta \vdash \tau_2 \subtynf \tau_2' : \star \gens \Phi_2$
   }{
     $\Psi ; \Theta ; \Delta \vdash \tau_1 \amp \tau_2 \subty \tau_1' \amp \tau_2' : \star$   
   }
   
   \caseText{By IH on (3)}
   
   \caseFact{5} $\Psi ; \Theta ; \Delta \vdash \tau_1' \subty \tau_1 : \star$

   \caseText{By IH on (4)}   
   
   \caseFact{6} $\Psi ; \Theta ; \Delta \vdash \tau_2 \subty \tau_2' : \star$
   
   \caseText{Goal follows by S-With on (5) and (6)}
  }
  
  \jcase{6}{AS-Sum}{
   \jgivengoal{
     \caseFact{1} $\Psi ; \Theta ; \Delta \vdash \tau_1 \oplus \tau_2 \subtynf \tau_1' \oplus \tau_2' : \star \gens \Phi_1 \wedge \Phi_2$
     
     \caseFact{2} $\Theta ; \Delta \vDash \Phi_1 \wedge \Phi_2$   
     
     \caseFact{3} $\Psi ; \Theta ; \Delta \vdash \tau_1 \subtynf \tau_1' : \star \gens \Phi_1$
     
     \caseFact{4} $\Psi ; \Theta ; \Delta \vdash \tau_2 \subtynf \tau_2' : \star \gens \Phi_2$
   }{
     $\Psi ; \Theta ; \Delta \vdash \tau_1 \oplus \tau_2 \subty \tau_1' \oplus \tau_2' : \star$   
   }
   
   \caseText{By IH on (3)}
   
   \caseFact{5} $\Psi ; \Theta ; \Delta \vdash \tau_1' \subty \tau_1 : \star$

   \caseText{By IH on (4)}   
   
   \caseFact{6} $\Psi ; \Theta ; \Delta \vdash \tau_2 \subty \tau_2' : \star$
   
   \caseText{Goal follows by S-Sum on (5) and (6)}
  }
  
  \jcase{7}{AS-Bang}{
   \jgivengoal{
     \caseFact{1} $\Psi ; \Theta ; \Delta \vdash !\tau_1 \subtynf !\tau_2 : \star \gens \Phi$
     
     \caseFact{2} $\Theta ; \Delta \vDash \Phi$
     
     \caseFact{3} $\Psi ; \Theta ; \Delta \vdash \tau_1 \subtynf \tau_2 : \star \gens \Phi$
    
   }{
     $\Psi ; \Theta ; \Delta \vdash !\tau_1 \subty !\tau_2 : \star$
   }
   
   \caseText{By IH on (3)}
   
   \caseFact{4} $\Psi ; \Theta ; \Delta \vdash \tau_1 \subty \tau_2 : \star$
   
   \caseText{Goal follows by S-Bang on (4)}
  }
  
  \jcase{8}{AS-IForall}{
   \jgivengoal{
     \caseFact{1} $\Psi ; \Theta ; \Delta \vdash \forall i : S.\tau_1 \subtynf \forall i : S. \tau_2 : \star \gens \forall i : S. \Phi$
     
     \caseFact{2} $\Theta ; \Delta \vDash \forall i : S. \Phi$
     
     \caseFact{3} $\Psi ; \Theta, i : S ; \Delta \vdash \tau_1 \subtynf \tau_2 : \star \gens \Phi$
    
   }{
     $\Psi ; \Theta ; \Delta \vdash \forall i : S. \tau_1 \subty \forall i : S. \tau_2 : \star$
   }
   
   \caseText{Equivalently to (2)}
   
   \caseFact{4} $\Theta, i : S; \Delta \vDash \Phi$
   
   \caseText{By IH on (3), using (4)}
   
   \caseFact{5} $\Psi ; \Theta ; \Delta \vdash \tau_1 \subty \tau_2 : \star$
   
   \caseText{Goal follows by S-IForall on (5)}
  }
  
  \jcase{9}{AS-IExists}{
   \jgivengoal{
     \caseFact{1} $\Psi ; \Theta ; \Delta \vdash \exists i : S.\tau_1 \subtynf \exists i : S. \tau_2 : \star \gens \forall i : S. \Phi$
     
     \caseFact{2} $\Theta ; \Delta \vDash \forall i : S. \Phi$
     
     \caseFact{3} $\Psi ; \Theta, i : S ; \Delta \vdash \tau_1 \subtynf \tau_2 : \star \gens \Phi$
    
   }{
     $\Psi ; \Theta ; \Delta \vdash \exists i : S. \tau_1 \subty \exists i : S. \tau_2 : \star$
   }
   
   \caseText{Equivalently to (2)}
   
   \caseFact{4} $\Theta, i : S; \Delta \vDash \Phi$
   
   \caseText{By IH on (3), using (4)}
   
   \caseFact{5} $\Psi ; \Theta ; \Delta \vdash \tau_1 \subty \tau_2 : \star$
   
   \caseText{Goal follows by S-IExists on (5)}
  }
  
  \jcase{10}{AS-TForall}{
   \jgivengoal{
     \caseFact{1} $\Psi ; \Theta ; \Delta \vdash \forall \alpha : K. \tau_1 \subtynf \forall \alpha : K. \tau_2 : \star \gens \Phi$
     
     \caseFact{2} $\Theta ; \Delta \vDash \Phi$
     
     \caseFact{3} $\Psi, \alpha : K ; \Theta ; \Delta \vdash \tau_1 \subtynf \tau_2 : \star \gens \Phi$
    
   }{
     $\Psi ; \Theta ; \Delta \vdash \forall \alpha : K. \tau_1 \subty \forall \alpha : K. \tau_2 : \star$
   }
   
   \caseText{By IH on (3)}
   
   \caseFact{4} $\Psi, \alpha : K ; \Theta ; \Delta \vdash \tau_1 \subty \tau_2 : \star$
   
   \caseText{Goal follows by S-TForall on (4)}
  }
  
  \jcase{11}{AS-List}{
   \jgivengoal{
     \caseFact{1} $\Psi ; \Theta ; \Delta \vdash L^I \tau_1 \subtynf L^J \tau_2 : \star \gens \Phi \wedge (I = J)$
     
     \caseFact{2} $\Theta ; \Delta \vDash \Phi \wedge (I = J)$
     
     \caseFact{3} $\Psi ; \Theta ; \Delta \vdash \tau_1 \subtynf \tau_2 : \star \gens \Phi$
   }{
     $\Psi ; \Theta ; \Delta \vdash L^I \tau_1 \subty L^J \tau_2 : \star$
   }
   
   \caseText{By IH on (3)}
   
   \caseFact{4} $\Psi ; \Theta ; \Delta \vdash \tau_1 \subty \tau_2 : \star \gens \Phi$
   
   \caseText{From (2)}
   
   \caseFact{5} $\Theta ; \Delta \vDash I = J$
   
   \caseText{Goal follows by S-List on (4) and (5)}
  }
  
  \jcase{12}{AS-Conj}{
   \jgivengoal{
     \caseFact{1} $\Psi ; \Theta ; \Delta \vdash \Phi_1 \amp \tau_1 \subtynf \Phi_2 \amp \tau_2 : \star \gens \Phi \wedge (\Phi_1 \to \Phi_2)$
     
     \caseFact{2} $\Theta ; \Delta \vDash \Phi \wedge (\Phi_1 \to \Phi_2)$
     
     \caseFact{3} $\Psi ; \Theta ; \Delta \vdash \tau_1 \subtynf \tau_2 : \star \gens \Phi$
   }{
     $\Psi ; \Theta ; \Delta \vdash \Phi_1 \amp \tau_1 \subty \Phi_2 \amp \tau_2 : \star$
   }
   
   \caseText{By IH on (3)}
   
   \caseFact{4} $\Psi ; \Theta ; \Delta \vdash \tau_1 \subty \tau_2 : \star \gens \Phi$
   
   \caseText{From (2)}
   
   \caseFact{5} $\Theta ; \Delta \vDash \Phi_1 \to \Phi_2$
   
   \caseText{Goal follows by S-Conj on (4) and (5)}
  }
  
  \jcase{13}{AS-Impl}{
   \jgivengoal{
     \caseFact{1} $\Psi ; \Theta ; \Delta \vdash \Phi_1 \implies \tau_1 \subtynf \Phi_2 \implies \tau_2 : \star \gens (\Phi_2 \to \Phi) \wedge (\Phi_2 \to \Phi_1)$
     
     \caseFact{2} $\Theta ; \Delta \vDash (\Phi_2 \to \Phi) \wedge (\Phi_2 \to \Phi_1)$
     
     \caseFact{3} $\Psi ; \Theta ; \Delta,\Phi_2 \vdash \tau_1 \subtynf \tau_2 : \star \gens \Phi$
   }{
     $\Psi ; \Theta ; \Delta \vdash \Phi_1 \implies \tau_1 \subty \Phi_2 \implies \tau_2 : \star$
   }
   
   \caseText{By IH on (3)}
   
   \caseFact{4} $\Psi ; \Theta ; \Delta, \Phi_2 \vdash \tau_1 \subty \tau_2 : \star \gens \Phi$
   
   \caseText{From (2)}
   
   \caseFact{5} $\Theta ; \Delta \vDash (\Phi_2 \to \Phi) \wedge (\Phi_2 \to \Phi_1)$
   
   \caseText{Goal follows by S-Impl on (4) and (5)}
  }
  
  \jcase{14}{AS-Monad}{
   \jgivengoal{
    \caseFact{1} $\Psi ; \Theta ; \Delta \vdash \M \, (I,\vec{p}) \, \tau_1 \subtynf \M \, (J,\vec{q}) \, \tau_2 : \star \gens \Phi \wedge (I = J) \wedge (\vec{p} \leq \vec{q})$
    
    \caseFact{2} $\Theta ; \Delta \vDash \Phi \wedge (I = J) \wedge (\vec{p} \leq \vec{q})$
    
    \caseFact{3} $\Psi ; \Theta ; \Delta \vdash \tau_1 \subtynf \tau_2 : \star \gens \Phi$
   }{
     $\Psi ; \Theta ; \Delta \vdash \M \, (I,\vec{p}) \, \tau_1 \subty \M \, (J,\vec{q}) \, \tau_2 : \star$
   }
   
   \caseText{By IH on (3)}
   
   \caseFact{4} $\Psi ; \Theta ; \Delta \vdash \tau_1 \subty \tau_2 : \star$
   
   \caseText{From (2)}
   
   \caseFact{5} $\Theta ; \Delta \vDash I = J$
   
   \caseFact{6} $\Theta ; \Delta \vDash \vec{p} \leq \vec{q}$
   
   \caseText{Goal follows by S-Monad on (4), (5), and (6)}
  }
  
  \jcase{15}{AS-Pot}{
   \jgivengoal{
    \caseFact{1} $\Psi ; \Theta ; \Delta \vdash [I|\vec{p}] \, \tau_1 \subtynf [J|\vec{q}] \, \tau_2 : \star \gens \Phi \wedge (I = J) \wedge (\vec{p} \geq \vec{q})$
    
    \caseFact{2} $\Theta ; \Delta \vDash \Phi \wedge (I = J) \wedge (\vec{p} \geq \vec{q})$
    
    \caseFact{3} $\Psi ; \Theta ; \Delta \vdash \tau_1 \subtynf \tau_2 : \star \gens \Phi$
   }{
     $\Psi ; \Theta ; \Delta \vdash [I|\vec{p}] \, \tau_1 \subty [J|\vec{q}] \, \tau_2 : \star$
   }
   
   \caseText{By IH on (3)}
   
   \caseFact{4} $\Psi ; \Theta ; \Delta \vdash \tau_1 \subty \tau_2 : \star$
   
   \caseText{From (2)}
   
   \caseFact{5} $\Theta ; \Delta \vDash I = J$
   
   \caseFact{6} $\Theta ; \Delta \vDash \vec{p} \geq \vec{q}$
   
   \caseText{Goal follows by S-Pot on (4), (5), and (6)}
  }
  
  \jcase{16}{AS-ConstPot}{
   \jgivengoal{
    \caseFact{1} $\Psi ; \Theta ; \Delta \vdash [I] \, \tau_1 \subtynf [J] \, \tau_2 : \star \gens \Phi \wedge (I \geq J)$
    
    \caseFact{2} $\Theta ; \Delta \vDash \Phi \wedge (I \geq J)$
    
    \caseFact{3} $\Psi ; \Theta ; \Delta \vdash \tau_1 \subtynf \tau_2 : \star \gens \Phi$
   }{
     $\Psi ; \Theta ; \Delta \vdash [I] \, \tau_1 \subty [J] \, \tau_2 : \star$
   }
   
   \caseText{By IH on (3)}
   
   \caseFact{4} $\Psi ; \Theta ; \Delta \vdash \tau_1 \subty \tau_2 : \star$
   
   \caseText{From (2)}
   
   \caseFact{5} $\Theta ; \Delta \vDash I \geq J$
   
   \caseText{Goal follows by S-Const on (4) and (5)}
  }
  
  \jcase{17}{AS-FamLam}{
   \jgivengoal{
    \caseFact{1} $\Psi ; \Theta ; \Delta \vdash \lambda i : S.\tau_1 \subtynf \lambda i :S .\tau_2 :S \to K \gens \forall i : S. \Phi$
    
    \caseFact{2} $\Theta ; \Delta \vDash \forall i : S. \Phi$
    
    \caseFact{3} $\Psi ; \Theta, i : S; \Delta \vdash \tau_1 \subtynf \tau_2 : K \gens \Phi$
   }{
     $\Psi ; \Theta ; \Delta \vdash \lambda i : S.\tau_1 \subty \lambda i :S .\tau_2 :S \to K$
   }
   \caseText{Equivalently to (2)}
   
   \caseFact{4} $\Theta, i : S ; \Delta \vDash \Phi$
   
   \caseText{By IH on (3), using (4)}
   
   \caseFact{5} $\Psi ; \Theta, i : S: \Delta \vdash \tau_1 \subty \tau_2 : K$
   
   \caseText{Goal follows by S-FamLam on (5)}
  }
  
  \jcase{18}{AS-FamApp}{
   \jgivengoal{
     \caseFact{1} $\Psi ; \Theta ; \Delta \vdash \tau_1 \; I \subtynf \tau_2 \; J : K \gens (I = J) \wedge \Phi$ 
     
     \caseFact{2} $\Theta ; \Delta \vDash (I = J) \wedge \Phi$
     
     \caseFact{3} $\Psi ; \Theta ; \Delta \vdash \tau_1 \subtynf \tau_2 : S \to K \gens \Phi$
   }{
     $\Psi ; \Theta ; \Delta \vdash \tau_1 \; I \subty \tau_2 \; J : K$
   }
   
   \caseText{By IH on (3)}
   
   \caseFact{4} $\Psi ; \Theta ; \Delta \vdash \tau_1 \subty \tau_2 ; S \to K$
   
   \caseText{From (2)}
   
   \caseFact{5} $\Theta ; \Delta \vDash I = J$
   
   \caseText{Goal follows by S-FamApp on (4) and (5).}
  }

}

\iffalse
\begin{proof}
 We proceed by induction on $\Psi ; \Theta ; \Delta \vdash \tau_1 \subtynf \tau_2 : K \gens \Phi$.

\begin{itemize}
  \item[AS-Monad] Suppose $\Psi ; \Theta ; \Delta \vdash M(I,\vec{q}) \tau_1 \subtynf M(J,\vec{p}) \tau_2 : \star \gens (I = J) \wedge (\vec{q} \leq \vec{p}) \wedge \Phi$ by way of $\Psi ; \Theta ; \Delta \vdash \tau_1 \subtynf \tau_2 : \star \gens \Phi$ with $\Theta ; \Delta \vDash (I = J)$,  $\Theta ; \Delta \vDash \vec{q} \leq \vec{p}$, and $\Theta ; \Delta \vDash \Phi$. By IH, $\Psi ; \Theta ; \Delta \vdash \tau_1 \subty \tau_2 : \star$, and since $\Theta ; \Delta \vDash (I = J)$ and $\Theta ; \Delta \vDash \vec{q} \leq \vec{p}$, we have by S-Monad that $\Psi ; \Theta ; \Delta \vdash M(I,\vec{q}) \tau_1 \subty M(J,\vec{p}) \tau_2 : \star$.
  \item[AS-Pot] Suppose $\Psi ; \Theta ; \Delta \vdash [I|\vec{q}] \tau_1 \subtynf [J|\vec{p}] \tau_2 : \star \gens (I = J) \wedge (\vec{p} \leq \vec{q}) \wedge \Phi$ by way of $\Psi ; \Theta ; \Delta \vdash \tau_1 \subtynf \tau_2 : \star \gens \Phi$, with  $\Theta ; \Delta \vDash (I = J)$,  $\Theta ; \Delta \vDash \vec{p} \leq \vec{q}$, and $\Theta ; \Delta \vDash \Phi$. By IH, $\Psi ; \Theta ; \Delta \vdash \tau_1 \subty \tau_2 : \star$. Using the fact that $\Theta ; \Delta \vDash (I = J)$ and $\Theta ; \Delta \vDash \vec{p} \leq \vec{q}$, we have by S-Pot that $\Psi ; \Theta ; \Delta \vdash [i|\vec{q}] \tau_1 \subty [j|\vec{p}] \tau_2 : \star$.
  \item[AS-ConstPot] Suppose ${\Psi ; \Theta ; \Delta \vdash [I] \tau_1 \subtynf [J] \tau_2 : \star \gens \Phi \wedge (J \leq I)}$ by way of ${\Psi ; \Theta ; \Delta \vdash \tau_1 \subtynf \tau_2 : \star \gens \Phi}$ with $\Theta ; \Delta \vDash \Phi$ and $\Theta ; \Delta \vDash J \leq I$. By IH, $\Psi ; \Theta ; \Delta \vdash \tau_1 \subty \tau_2 : \star$, and so using $\Theta ; \Delta \vDash J \leq I$, we have by S-ConstPot that $\Psi ; \Theta ; \Delta \vdash [I] \tau_1 \subty [J] \tau_2 : \star$.
  \item[AS-FamLam] Suppose $\Psi ; \Theta ; \Delta \vdash \lambda i : S. \tau_1 \subtynf \lambda i : S. \tau_2 : S \to K \gens \forall i : S. \Phi$ by way of ${\Psi ; \Theta, i : S ; \Delta \vdash \tau_1 \subtynf \tau_2 : K \gens \Phi}$, with $\Theta ; \Delta \vDash \forall i : S. \Phi$. Equivalently, $\Theta, i : S; \Delta \vDash \Phi$, and so by IH, $\Psi ; \Theta, i : S ; \Delta \vdash \tau_1 \subty \tau_2 : K$, which by S-FamLam means $\Psi ; \Theta ; \Delta \vdash \lambda i : S. \tau_1 \subty \lambda i : S. \tau_2 : S \to K $.
  \item[AS-FamApp] Suppose that $\Psi ; \Theta ; \Delta \vdash \tau_1 \; I \subtynf \tau_2 \; J : K \gens (I = J) \wedge \Phi$ by way of $\Psi ; \Theta ; \Delta \vdash \tau_1 \subtynf \tau_2 : S \to K \gens \Phi$ and $i,j : S  \in \Theta$, with $\Theta ; \Delta \vDash I = J$ and $\Theta ; \Delta \vDash \Phi$. By IH, $\Psi ; \Theta ; \Delta \vdash \tau_1 \subty \tau_2 : S \to K \gens \Phi$, and by S-FamApp, $\Psi ; \Theta ; \Delta \vdash \tau_1 \; I \subty \tau_2 \; J : K$.
\end{itemize}

\end{proof}

\fi